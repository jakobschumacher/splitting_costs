<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Costsplitter2 - Fair Cost Division</title>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Costsplitter2</h1>
            <p>Fair cost division for group travel with complex scenarios</p>
        </header>

        <!-- Upload Section -->
        <section id="uploadSection" class="upload-section">
            <div id="dropZone" class="drop-zone">
                <div class="drop-zone-content">
                    <div class="upload-icon">ðŸ“„</div>
                    <h3>Drop your CSV file here or click to browse</h3>
                    <p>Supports files up to 10MB</p>
                </div>
            </div>
            <input type="file" id="csvFile" class="file-input" accept=".csv">

            <div id="fileInfo" class="file-info hidden">
                <p><strong>File:</strong> <span id="fileName"></span></p>
                <p><strong>Size:</strong> <span id="fileSize"></span></p>
            </div>

            <div class="control-section">
                <div class="control-group">
                    <label for="paymentMode">Payment Mode:</label>
                    <select id="paymentMode">
                        <option value="individual">Individual</option>
                        <option value="group">Group</option>
                    </select>
                </div>
                <button id="processButton" disabled>Process File</button>
                <button id="resetButton" class="reset-btn">Reset</button>
            </div>
        </section>

        <!-- Error Display -->
        <div id="errorDisplay" class="error-display hidden"></div>

        <!-- Progress Steps - Always visible when processing starts -->
        <div id="progressSteps" class="progress-steps hidden">
            <div class="progress-header">
                <h3 id="progressTitle">Processing Your File</h3>
            </div>
            <div class="step" data-step="parsing">
                <span class="step-icon">ðŸ“„</span>
                <span class="step-text">Parsing CSV</span>
                <span class="step-status"></span>
            </div>
            <div class="step" data-step="security">
                <span class="step-icon">ðŸ”’</span>
                <span class="step-text">Security Check</span>
                <span class="step-status"></span>
            </div>
            <div class="step" data-step="validation">
                <span class="step-icon">âœ…</span>
                <span class="step-text">Data Validation</span>
                <span class="step-status"></span>
            </div>
            <div class="step" data-step="transformation">
                <span class="step-icon">ðŸ”„</span>
                <span class="step-text">Data Transformation</span>
                <span class="step-status"></span>
            </div>
            <div class="step" data-step="calculation">
                <span class="step-icon">ðŸ§®</span>
                <span class="step-text">Calculating Payments</span>
                <span class="step-status"></span>
            </div>
            <div class="step" data-step="reporting">
                <span class="step-icon">ðŸ“Š</span>
                <span class="step-text">Generating Report</span>
                <span class="step-status"></span>
            </div>
        </div>

        <!-- Loading Spinner - Only shows during processing -->
        <div id="loadingDisplay" class="loading-display hidden">
            <div class="spinner"></div>
            <p id="loadingText">Processing your file...</p>
        </div>

        <!-- Results Section -->
        <section id="resultsSection" class="results-section hidden">
            <div class="results-header">
                <h2>âœ… Processing Complete - Payment Results</h2>
            </div>
            <div class="result-tabs">
                <div class="tab active" data-tab="summary">Summary</div>
                <div class="tab" data-tab="instructions">Instructions</div>
                <div class="tab" data-tab="matrix">Payment Matrix</div>
                <div class="tab" data-tab="activities">Activities</div>
            </div>

            <div id="summaryTab" class="tab-content active">
                <h3>Summary</h3>
                <div id="summaryContent"></div>
            </div>

            <div id="instructionsTab" class="tab-content">
                <h3>Payment Instructions</h3>
                <div id="instructionsContent"></div>
            </div>

            <div id="matrixTab" class="tab-content">
                <h3>Payment Matrix</h3>
                <div id="matrixContent"></div>
            </div>

            <div id="activitiesTab" class="tab-content">
                <h3>Activity Breakdown</h3>
                <div id="activitiesContent"></div>
            </div>
        </section>
    </div>

    <script>
        // Simple tab switching
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.dataset.tab;

                    // Remove active class from all tabs and contents
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                    // Add active class to clicked tab and corresponding content
                    tab.classList.add('active');
                    document.getElementById(tabName + 'Tab').classList.add('active');
                });
            });
        });
    </script>
</body>
</html>