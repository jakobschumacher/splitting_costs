<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Costsplitter2 - Fair Cost Division</title>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1>Costsplitter2</h1>
            <p>Fair cost division for group travel</p>
        </header>

        <!-- Step 1: Upload File -->
        <section id="step1" class="step-section">
            <div class="step-header">
                <span class="step-number">1</span>
                <h2>Upload Your CSV File</h2>
            </div>
            <div class="card">
                <div id="dropZone" class="drop-zone">
                    <div style="font-size: 4rem; margin-bottom: 1rem;">ðŸ“„</div>
                    <h3>Drop your CSV file here or click to browse</h3>
                    <p style="color: #6b7280;">Supports files up to 10MB</p>
                </div>
                <input type="file" id="csvFile" class="hidden" accept=".csv">

                <div id="fileInfo" class="hidden" style="margin-top: 1rem; padding: 1rem; background: #eff6ff; border-radius: 0.375rem;">
                    <p><strong>File:</strong> <span id="fileName"></span></p>
                    <p><strong>Size:</strong> <span id="fileSize"></span></p>
                </div>
            </div>
        </section>

        <!-- Step 2: Configure & Process -->
        <section id="step2" class="step-section hidden">
            <div class="step-header">
                <span class="step-number">2</span>
                <h2>Configure Options & Process</h2>
            </div>
            <div class="card">
                <div class="space-y-4">
                    <div>
                        <label for="paymentMode">Payment Mode</label>
                        <select id="paymentMode">
                            <option value="individual">Individual</option>
                            <option value="group">Group</option>
                        </select>
                    </div>
                    <div class="flex space-x-3">
                        <button id="processButton" class="btn btn-primary">Process File</button>
                        <button id="resetButton" class="btn btn-secondary">Reset</button>
                    </div>
                </div>

                <!-- Horizontal Progress Steps -->
                <div id="progressSteps" class="hidden" style="margin-top: 2rem;">
                    <h3 id="progressTitle" style="margin-bottom: 1rem;">Processing Your File</h3>
                    <div class="progress-horizontal">
                        <div class="progress-step-horizontal" data-step="parsing">
                            <div class="progress-icon">ðŸ“„</div>
                            <div class="progress-label">Parsing</div>
                        </div>
                        <div class="progress-connector"></div>
                        <div class="progress-step-horizontal" data-step="security">
                            <div class="progress-icon">ðŸ”’</div>
                            <div class="progress-label">Security</div>
                        </div>
                        <div class="progress-connector"></div>
                        <div class="progress-step-horizontal" data-step="validation">
                            <div class="progress-icon">âœ…</div>
                            <div class="progress-label">Validation</div>
                        </div>
                        <div class="progress-connector"></div>
                        <div class="progress-step-horizontal" data-step="transformation">
                            <div class="progress-icon">ðŸ”„</div>
                            <div class="progress-label">Transform</div>
                        </div>
                        <div class="progress-connector"></div>
                        <div class="progress-step-horizontal" data-step="calculation">
                            <div class="progress-icon">ðŸ§®</div>
                            <div class="progress-label">Calculate</div>
                        </div>
                        <div class="progress-connector"></div>
                        <div class="progress-step-horizontal" data-step="reporting">
                            <div class="progress-icon">ðŸ“Š</div>
                            <div class="progress-label">Report</div>
                        </div>
                    </div>
                </div>

                <!-- Loading Display -->
                <div id="loadingDisplay" class="hidden text-center" style="padding: 2rem;">
                    <div class="spinner"></div>
                    <p style="margin-top: 0.5rem; color: #6b7280;">Processing your file...</p>
                </div>

                <!-- Error Display -->
                <div id="errorDisplay" class="hidden" style="margin-top: 2rem; padding: 1rem; border-radius: 0.375rem; border: 1px solid #fecaca; background: #fef2f2;"></div>
            </div>
        </section>

        <!-- Step 3: Results -->
        <section id="step3" class="step-section hidden">
            <div class="step-header">
                <span class="step-number">3</span>
                <h2>âœ… Results</h2>
            </div>
            <div class="card">
                <div class="grid grid-4" id="summaryContent">
                    <!-- Summary cards will be inserted here -->
                </div>

                <div class="space-y-4" style="margin-top: 2rem;">
                    <div>
                        <h3>ðŸ’³ Payment Instructions</h3>
                        <div id="instructionsContent" class="instructions-box">
                            <!-- Instructions will be inserted here -->
                        </div>
                    </div>

                    <div>
                        <h3>ðŸ“‹ Payment Matrix</h3>
                        <div id="matrixContent" class="overflow-x-auto">
                            <!-- Matrix table will be inserted here -->
                        </div>
                    </div>

                    <div>
                        <h3>ðŸŽ¯ Activity Breakdown</h3>
                        <div id="activitiesContent" class="grid grid-3">
                            <!-- Activities will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>
</html>